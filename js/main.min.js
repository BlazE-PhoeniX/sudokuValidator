var cells,squareSize=3,table=document.querySelector(".table tbody");function createTable(size){for(table.innerHTML="",i=1;i<=size;i++){var temp=table.innerHTML;for(table.innerHTML=temp+"\n<tr class='row row--"+i+"'>",j=1;j<=size;j++){var row=document.querySelector(".row--"+i);temp=row.innerHTML,row.innerHTML=temp+"\n<td class='cell cell--"+i+j+"'><input class='input input--"+i+j+"' type='number' min='1' max='"+size+"'></td>"}temp=table.innerHTML,table.innerHTML=temp+"\n</tr>"}squareSize=1*size,document.querySelector(".sizeSet").value=size,(cells=document.querySelectorAll(".cell")).forEach((function(cell){cell.height=cell.clientWidth,cell.querySelector(".input").style.fontSize=.7*cell.clientWidth+"px",cell.querySelector(".input").addEventListener("input",(function(){this.value<1&&""!=this.value?(this.value="",alert("Minimum value is 1")):this.value>squareSize&&(this.value="",alert("Maximum value is "+squareSize))}))})),document.querySelector(".getSize-bg").style.transform="skewX(90deg)"}function showPopUp(popup){document.querySelector("."+popup).style.transform="translateX(-50%) translateY(-50%) scale(1)",document.querySelector(".pop-up-bg").style.transform="scale(1)"}function closePopUp(popup){document.querySelector("."+popup).style.transform="translateX(-50%) translateY(-50%) scale(0)",document.querySelector(".pop-up-bg").style.transform="scale(0)"}window.onresize=function(){cells.forEach((function(cell){cell.height=cell.clientWidth,cell.querySelector(".input").style.fontSize=.7*cell.clientWidth+"px"}))};var sudoku=new Array;function checkRow(row,sudoku){for(var i=0;i<squareSize;i++)for(var j=0;j<squareSize;j++)if(i!=j&&sudoku[row][j]==sudoku[row][i])return!1;return!0}function checkColumn(col,sudoku){for(var i=0;i<squareSize;i++)for(var j=0;j<squareSize;j++)if(i!=j&&sudoku[j][col]==sudoku[i][col])return!1;return!0}function checkSquares(sudoku){var row_start=0,col_start=0,row_increment=9==squareSize?2:1;for(square=1;square<=squareSize;square++){for(var i=row_start;i<=row_start+row_increment;i++)for(var j=col_start;j<=col_start+2;j++)for(var x=row_start;i<=row_start+row_increment;i++)for(var y=col_start;j<=col_start+2;j++)if((i!=x||j!=y)&&sudoku[i][j]==sudoku[x][y])return!1;col_start==squareSize-3?(row_start+=row_increment+1,col_start=0):col_start+=3}return!0}function validateSudoku(){for(var sudoku=new Array,i=0;i<squareSize;i++){temp=new Array;for(var j=0;j<squareSize;j++){var input=document.querySelector(".input--"+(i+1)+(j+1));if(input.style.background="#fff",""==input.value)return document.querySelector(".validate-fail .error").textContent="Please Fill In All The Squares",void showPopUp("validate-fail");temp[j]=input.value}sudoku.push(temp)}for(var i=0;i<squareSize;i++)if(!checkRow(i,sudoku)||!checkColumn(i,sudoku))return showPopUp("validate-fail"),void(checkRow(i,sudoku)?paintError("col",i+1):paintError("row",i+1));if(squareSize>3&&!checkSquares(sudoku))return document.querySelector(".validate-fail .error").textContent="Error in one of the artitions of the square",void showPopUp("validate-fail");showPopUp("validate-success")}function paintError(part,no){if("row"==part){document.querySelector(".validate-fail .error").textContent="Error in Row "+no;for(var i=1;i<=squareSize;i++)document.querySelector(".input--"+no+i).style.background="#ffdbc5"}else if("col"==part){document.querySelector(".validate-fail .error").textContent="Error in Column "+no;for(var i=1;i<=squareSize;i++)document.querySelector(".input--"+i+no).style.background="#ffdbc5"}}var mic=document.querySelector("i.fa"),micButton=document.querySelector(".voice-button");const SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;if(SpeechRecognition){const Recognition=new SpeechRecognition;function startRec(){mic.classList.contains("fa-microphone")?(mic.classList.remove("fa-microphone"),mic.classList.add("fa-microphone-slash"),micButton.style.animation="micActive .67s linear infinite",Recognition.start()):(mic.classList.remove("fa-microphone-slash"),mic.classList.add("fa-microphone"),micButton.style.animation="none",Recognition.stop())}Recognition.continuous=!0,Recognition.onresult=function(event){for(var transcript=event.results[0][0].transcript,i=1;i<=squareSize;i++)for(var j=1;j<=squareSize;j++){var input;document.querySelector(".input--"+i+j).value=""}var i=1,j=1;for(let char of transcript)char*=1,Number.isInteger(char)&&char>0&&char<=squareSize&&(j<=squareSize?(document.querySelector(".input--"+i+j).value=char,j++):(j=1,i++,document.querySelector(".input--"+i+j).value=char,j++))}}else micButton.disabled="disabled";